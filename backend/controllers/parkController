const mongoose = require("mongoose");
const Park = require("../models/park");
const Booking = require("../models/booking");
exports.addParking = async (req , res , next) => {
    try{
        const userID = req.body.userID;
        const title = req.body.title;
        const description = req.body.description;
        const twoWheelPrice = req.body.twoWheelPrice;
        const fourWheelPrice = req.body.fourWheelPrice;
        const twoWheelCapacity = req.body.twoWheelCapacity;
        const fourWheelCapacity = req.body.fourWheelCapacity;
        const fullAddress = req.body.fullAddress;
        const phone = req.body.phone;
        const pincode = req.body.pincode;
        const landmark = req.body.landmark;
        const state = req.body.state;
        const city = req.body.city;
        const latitude = req.body.latitude;
        const longitude = req.body.longitude;
        const parking = await Park.create({
            userID : userID,
            title : title,
            description : description,
            twoWheelPrice : twoWheelPrice,
            fourWheelPrice : fourWheelPrice,
            twoWheelCapacity : twoWheelCapacity,
            fourWheelCapacity : fourWheelCapacity,
            fullAddress : fullAddress,
            phone : phone,
            pincode : pincode,
            landmark : landmark,
            state : state,
            city : city,
            latitude : latitude,
            longitude : longitude
        })
        return res.status(200).json("parking created successfully");
    }
    catch(err){
        next(err);
    }
}

exports.createBooking = async(req , res , next) => {
    try{
        const date = req.body.date;
        const checkin = req.body.checkin;
        const checkout = req.body.checkout;
        const amount = req.body.amount;
        const numberPlate = req.body.numberPlate;
        const phone = req.body.phone;
        const email = req.body.email;
        const name = req.body.name;
        const parkID = req.body.parkID;
        const booking = await Booking.create({
            date : date,
            checkIn : checkin,
            checkOut : checkout,
            amount : amount,
            numberPlate : numberPlate,
            phone : phone,
            email : email,
            name : name,
            parkID : parkID,
        });
        return res.status(200).json("Booking created successfully");
    }
    catch(err){
        next(err);
    }
}

